# å½±ç‰‡è½‰å ´æ•ˆæœè¦æ ¼ - å¿«é€Ÿæ‘˜è¦

**è¦æ ¼ç·¨è™Ÿ**ï¼šSPEC-TRANSITION-001  
**å»ºç«‹æ—¥æœŸ**ï¼š2025-01-08  
**è©³ç´°è¦æ ¼**ï¼šè¦‹ `video-transition-effects.md`

---

## ğŸ“‹ æ ¸å¿ƒéœ€æ±‚ä¸€è¦½

### å½±ç‰‡çµå°¾è½‰å ´ï¼ˆæ¯å€‹å–®å­—å½±ç‰‡ï¼‰
- âœ… **æ·¡å‡ºæ™‚æ©Ÿ**ï¼šçµæŸå‰ **3 ç§’** é–‹å§‹
- âœ… **ç•«é¢æ·¡å‡º**ï¼šç·šæ€§æ·¡è‡³é»‘è‰² (RGB 0,0,0)
- âœ… **éŸ³è¨Šæ·¡å‡º**ï¼šç·šæ€§æ·¡è‡³éœéŸ³ï¼ˆåŒæ­¥ 3 ç§’ï¼‰

### ä¸‹ä¸€å½±ç‰‡é–‹å ´è½‰å ´
- âœ… **æ·¡å…¥æ™‚æ©Ÿ**ï¼šå½±ç‰‡é–‹å§‹å¾Œ **1 ç§’** å…§
- âœ… **ç•«é¢æ·¡å…¥**ï¼šå¾é»‘è‰²ç·šæ€§æ·¡å…¥
- âœ… **éŸ³è¨Šè¡Œç‚º**ï¼š**ç«‹å³æ¢å¾©åŸå§‹éŸ³é‡**ï¼ˆç„¡æ·¡å…¥ï¼‰

---

## ğŸ¯ å¿«é€Ÿç†è§£åœ–ç¤º

```
å½±ç‰‡ A (15ç§’)                      å½±ç‰‡ B (15ç§’)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ­£å¸¸æ’­æ”¾   â”‚ æ·¡å‡º3s â”‚           â”‚æ·¡å…¥1sâ”‚  æ­£å¸¸æ’­æ”¾   â”‚
â”‚             â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â”‚ â†’ é»‘è‰² â†’ â”‚â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ”‚             â”‚
0s          12s    15s           15s 16s  17s       30s
              â†“                         â†“
         ç•«é¢+éŸ³è¨Šæ·¡å‡º              ç•«é¢æ·¡å…¥ï¼ŒéŸ³è¨Šç›´æ¥æ¢å¾©
```

---

## ğŸ› ï¸ å¯¦ä½œè¦é»

### MoviePy æ ¸å¿ƒç¨‹å¼ç¢¼
```python
# æ·¡å‡ºæ•ˆæœï¼ˆæ¯å€‹å½±ç‰‡ç‰‡æ®µï¼‰
if clip.duration >= 3.0:
    clip = clip.fadeout(duration=3.0)  # ç•«é¢æ·¡å‡º
    if clip.audio:
        clip = clip.audio_fadeout(duration=3.0)  # éŸ³è¨Šæ·¡å‡º

# æ·¡å…¥æ•ˆæœï¼ˆç¬¬äºŒå€‹åŠå¾ŒçºŒå½±ç‰‡ï¼‰
if idx > 0 and clip.duration >= 1.0:
    clip = clip.fadein(duration=1.0)  # åƒ…ç•«é¢æ·¡å…¥
```

### CLI ä½¿ç”¨ç¯„ä¾‹
```powershell
# é è¨­è½‰å ´ï¼ˆæ·¡å‡º3s + æ·¡å…¥1sï¼‰
python -m spellvid.cli batch --json config.json --outdir out --out-file merged.mp4

# è‡ªè¨‚è½‰å ´æ™‚é•·ï¼ˆæœªä¾†æ“´å……ï¼‰
python -m spellvid.cli batch --json config.json --out-file merged.mp4 \
  --fade-out-duration 2.0 --fade-in-duration 0.5

# åœç”¨è½‰å ´ï¼ˆç¡¬åˆ‡æ¨¡å¼ï¼‰
python -m spellvid.cli batch --json config.json --out-file merged.mp4 \
  --disable-transitions
```

---

## âœ… é©—æ”¶æª¢æŸ¥æ¸…å–®

### åŠŸèƒ½é©—æ”¶
- [ ] å½±ç‰‡çµå°¾å‰ 3 ç§’é€²è¡Œç•«é¢æ·¡å‡ºï¼ˆç·šæ€§åˆ°é»‘è‰²ï¼‰
- [ ] å½±ç‰‡çµå°¾å‰ 3 ç§’é€²è¡ŒéŸ³è¨Šæ·¡å‡ºï¼ˆç·šæ€§åˆ°éœéŸ³ï¼‰
- [ ] ä¸‹ä¸€å½±ç‰‡é–‹å§‹ 1 ç§’é€²è¡Œç•«é¢æ·¡å…¥ï¼ˆå¾é»‘è‰²ï¼‰
- [ ] ä¸‹ä¸€å½±ç‰‡éŸ³è¨Šç«‹å³æ¢å¾©ï¼ˆç„¡æ·¡å…¥ï¼‰
- [ ] æ‰¹æ¬¡æ¨¡å¼æ­£ç¢ºé€£æ¥å¤šå€‹å½±ç‰‡

### æŠ€è¡“é©—æ”¶
- [ ] æ·¡å‡º/æ·¡å…¥æ™‚é–“è»¸å°é½Šæ­£ç¢º
- [ ] ç„¡é–ƒçˆã€è·³å¹€æˆ–éŸ³è¨Šæ–·å±¤
- [ ] æ¸²æŸ“æ™‚é–“å¢åŠ  < 5%
- [ ] è¼¸å‡ºæ ¼å¼ H.264 + AAC æ­£å¸¸

### æ¸¬è©¦é©—æ”¶
- [ ] å–®å…ƒæ¸¬è©¦ï¼šæ·¡å‡ºæ•ˆæœï¼ˆTCS-TRANSITION-001ï¼‰
- [ ] å–®å…ƒæ¸¬è©¦ï¼šæ·¡å…¥æ•ˆæœï¼ˆTCS-TRANSITION-002ï¼‰
- [ ] å–®å…ƒæ¸¬è©¦ï¼šéŸ³è¨Šæ·¡å‡ºï¼ˆTCS-TRANSITION-003ï¼‰
- [ ] æ•´åˆæ¸¬è©¦ï¼šæ‰¹æ¬¡è½‰å ´ï¼ˆTCS-TRANSITION-004ï¼‰
- [ ] é‚Šç•Œæ¸¬è©¦ï¼šçŸ­å½±ç‰‡ã€ç„¡éŸ³è¨Šï¼ˆTCS-TRANSITION-005ï¼‰
- [ ] E2E æ¸¬è©¦ï¼šå®Œæ•´ CLI æµç¨‹ï¼ˆTCS-TRANSITION-006ï¼‰

---

## ğŸ“ éœ€æ›´æ–°çš„æ–‡ä»¶

1. **doc/requirement.md**
   - æ›´æ–° FR-EXPORT-3ï¼šæ·¡å‡ºæ™‚é•·å¾ 1 ç§’æ”¹ç‚º 3 ç§’
   - æ–°å¢ FR-EXPORT-6ï¼šæ‰¹æ¬¡è½‰å ´æ•ˆæœè¦æ ¼

2. **doc/TDD.md**
   - æ–°å¢ TCS-TRANSITION-001 ~ 006 æ¸¬è©¦æ¡ˆä¾‹

3. **README.md**ï¼ˆå¯é¸ï¼‰
   - å¢åŠ æ‰¹æ¬¡è½‰å ´ä½¿ç”¨ç¯„ä¾‹

---

## âš ï¸ æ³¨æ„äº‹é …

### é‚Šç•Œæƒ…æ³
1. **çŸ­å½±ç‰‡ï¼ˆ< 3 ç§’ï¼‰**ï¼šä¸æ‡‰ç”¨æ·¡å‡º
2. **ç„¡éŸ³è¨Š**ï¼šæ·¡å‡ºä¸æ‡‰å ±éŒ¯
3. **å–®ä¸€å½±ç‰‡æ¨¡å¼**ï¼šå»ºè­°ä¸æ‡‰ç”¨è½‰å ´ï¼ˆæˆ–æä¾›æ——æ¨™ï¼‰
4. **ç¬¬ä¸€å€‹å½±ç‰‡**ï¼šå»ºè­°æ‡‰ç”¨æ·¡å…¥ï¼ˆæä¾›é–‹å ´æ•ˆæœï¼‰

### å‘å¾Œç›¸å®¹
- ä¿®æ”¹ FR-EXPORT-3 æ·¡å‡ºæ™‚é•·ï¼ˆ1s â†’ 3sï¼‰æœƒæ”¹è®Šç¾æœ‰è¡Œç‚º
- å»ºè­°æä¾› CLI åƒæ•¸è®“ä½¿ç”¨è€…è‡ªè¨‚

---

## ğŸš€ å¯¦ä½œéšæ®µ

### Phase 1ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼ˆ2-3 å¤©ï¼‰
- å¯¦ä½œæ·¡å‡ºæ•ˆæœï¼ˆç•«é¢ + éŸ³è¨Šï¼‰
- å¯¦ä½œæ·¡å…¥æ•ˆæœï¼ˆåƒ…ç•«é¢ï¼‰
- åŸºæœ¬å–®å…ƒæ¸¬è©¦

### Phase 2ï¼šæ•´åˆèˆ‡æ¸¬è©¦ï¼ˆ2 å¤©ï¼‰
- æ•´åˆè‡³ batch æµç¨‹
- æ•´åˆæ¸¬è©¦èˆ‡ E2E æ¸¬è©¦
- æ›´æ–°æ–‡ä»¶

### Phase 3ï¼šé€²éšåŠŸèƒ½ï¼ˆ1-2 å¤©ï¼Œå¯é¸ï¼‰
- CLI è‡ªè¨‚åƒæ•¸
- JSON å±¤ç´šè¨­å®š
- éŸ³è¨Šæ·¡å…¥ï¼ˆå¯é¸ï¼‰

---

## ğŸ“š ç›¸é—œæ–‡ä»¶

- **è©³ç´°è¦æ ¼**ï¼š`.specify/video-transition-effects.md`
- **éœ€æ±‚æ–‡ä»¶**ï¼š`doc/requirement.md`
- **æ¸¬è©¦è¨ˆç•«**ï¼š`doc/TDD.md`
- **å°ˆæ¡ˆæ†²æ³•**ï¼š`CONSTITUTION.md`

---

**å•é¡Œæˆ–å»ºè­°ï¼Ÿ**  
è«‹åƒè€ƒè©³ç´°è¦æ ¼æ–‡ä»¶æˆ–è¯ç¹«å°ˆæ¡ˆç¶­è­·è€…ã€‚
